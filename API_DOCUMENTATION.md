# GVBåšå®¢ç³»ç»Ÿ API æ¥å£æ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [åŸºç¡€ä¿¡æ¯](#åŸºç¡€ä¿¡æ¯)
- [è®¤è¯è¯´æ˜](#è®¤è¯è¯´æ˜)
- [ç»Ÿä¸€å“åº”æ ¼å¼](#ç»Ÿä¸€å“åº”æ ¼å¼)
- [é”™è¯¯ç è¯´æ˜](#é”™è¯¯ç è¯´æ˜)
- [ç”¨æˆ·æ¨¡å—](#ç”¨æˆ·æ¨¡å—)
- [æ–‡ç« æ¨¡å—](#æ–‡ç« æ¨¡å—)
- [æ ‡ç­¾æ¨¡å—](#æ ‡ç­¾æ¨¡å—)
- [å›¾ç‰‡æ¨¡å—](#å›¾ç‰‡æ¨¡å—)
- [å¹¿å‘Šæ¨¡å—](#å¹¿å‘Šæ¨¡å—)
- [èœå•æ¨¡å—](#èœå•æ¨¡å—)
- [æ¶ˆæ¯æ¨¡å—](#æ¶ˆæ¯æ¨¡å—)
- [è¯„è®ºæ¨¡å—](#è¯„è®ºæ¨¡å—)
- [ç‚¹èµæ¨¡å—](#ç‚¹èµæ¨¡å—)
- [ç³»ç»Ÿè®¾ç½®](#ç³»ç»Ÿè®¾ç½®)
- [èŠå¤©æ¨¡å—](#èŠå¤©æ¨¡å—)
- [æ—¥å¿—æ¨¡å—](#æ—¥å¿—æ¨¡å—)
- [æ–°é—»æ¨¡å—](#æ–°é—»æ¨¡å—)

---

## åŸºç¡€ä¿¡æ¯

- **æ¥å£åœ°å€**: `http://localhost:8080/api`
- **è¯·æ±‚æ ¼å¼**: JSON
- **å“åº”æ ¼å¼**: JSON
- **å­—ç¬¦ç¼–ç **: UTF-8

---

## è®¤è¯è¯´æ˜

### JWT Token è®¤è¯

å¤§éƒ¨åˆ†APIéœ€è¦åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦Tokenï¼š

```
Authorization: Bearer <your_jwt_token>
```

### æƒé™è¯´æ˜

- **æ— è®¤è¯**: å…¬å¼€æ¥å£ï¼Œæ— éœ€Token
- **JwtAuth**: éœ€è¦ç™»å½•ç”¨æˆ·Token
- **JwtAdmin**: éœ€è¦ç®¡ç†å‘˜Token

---

## ç»Ÿä¸€å“åº”æ ¼å¼

### æˆåŠŸå“åº”

```json
{
  "code": 0,
  "data": {},
  "msg": "æ“ä½œæˆåŠŸ"
}
```

### åˆ—è¡¨å“åº”

```json
{
  "code": 0,
  "data": {
    "count": 100,
    "list": []
  },
  "msg": "æŸ¥è¯¢æˆåŠŸ"
}
```

### é”™è¯¯å“åº”

```json
{
  "code": 7,
  "data": {},
  "msg": "é”™è¯¯ä¿¡æ¯"
}
```

---

## é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| 0 | æˆåŠŸ |
| 7 | é€šç”¨é”™è¯¯ |
| 1001 | ç³»ç»Ÿé”™è¯¯ |
| 1002 | å‚æ•°é”™è¯¯ |

---

## ç”¨æˆ·æ¨¡å—

### 1. é‚®ç®±ç™»å½•

**æ¥å£åœ°å€**: `POST /api/email_login`

**è®¤è¯**: æ— éœ€è®¤è¯

**è¯·æ±‚å‚æ•°**:

```json
{
  "user_name": "string",
  "password": "string"
}
```

**å‚æ•°è¯´æ˜**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| user_name | string | æ˜¯ | ç”¨æˆ·åæˆ–é‚®ç®± |
| password | string | æ˜¯ | å¯†ç  |

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "msg": "æŸ¥è¯¢æˆåŠŸ"
}
```

---

### 2. QQç™»å½•

**æ¥å£åœ°å€**: `POST /api/login`

**è®¤è¯**: æ— éœ€è®¤è¯

**è¯·æ±‚å‚æ•°**: æ ¹æ®QQç™»å½•æµç¨‹

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": "token_string",
  "msg": "æŸ¥è¯¢æˆåŠŸ"
}
```

---

### 3. åˆ›å»ºç”¨æˆ·

**æ¥å£åœ°å€**: `POST /api/users`

**è®¤è¯**: JwtAdmin (ç®¡ç†å‘˜)

**è¯·æ±‚å‚æ•°**:

```json
{
  "nickname": "string",
  "username": "string",
  "password": "string",
  "role": 1
}
```

**å‚æ•°è¯´æ˜**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| nickname | string | æ˜¯ | æ˜µç§° |
| username | string | æ˜¯ | ç”¨æˆ·å |
| password | string | æ˜¯ | å¯†ç  |
| role | int | æ˜¯ | æƒé™è§’è‰² (1:ç”¨æˆ·, 2:ç®¡ç†å‘˜) |

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": {},
  "msg": "ç”¨æˆ·xxxåˆ›å»ºæˆåŠŸ!"
}
```

---

### 4. ç”¨æˆ·åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/users`

**è®¤è¯**: JwtAuth

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| page | int | å¦ | é¡µç  |
| limit | int | å¦ | æ¯é¡µæ•°é‡ |
| key | string | å¦ | æœç´¢å…³é”®å­— |

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": {
    "count": 10,
    "list": [
      {
        "id": 1,
        "username": "admin",
        "nickname": "ç®¡ç†å‘˜",
        "email": "admin@example.com",
        "role": 2,
        "avatar": "avatar_url"
      }
    ]
  },
  "msg": "æŸ¥è¯¢æˆåŠŸ"
}
```

---

### 5. æ›´æ–°ç”¨æˆ·è§’è‰²

**æ¥å£åœ°å€**: `PUT /api/user_role`

**è®¤è¯**: JwtAdmin

**è¯·æ±‚å‚æ•°**:

```json
{
  "user_id": 1,
  "role": 2
}
```

---

### 6. ä¿®æ”¹å¯†ç 

**æ¥å£åœ°å€**: `PUT /api/user_password`

**è®¤è¯**: JwtAuth

**è¯·æ±‚å‚æ•°**:

```json
{
  "old_pwd": "string",
  "new_pwd": "string"
}
```

---

### 7. ç»‘å®šé‚®ç®±

**æ¥å£åœ°å€**: `POST /api/user_bind_email`

**è®¤è¯**: JwtAuth

**è¯·æ±‚å‚æ•°**:

```json
{
  "email": "user@example.com",
  "code": "123456"
}
```

---

### 8. é€€å‡ºç™»å½•

**æ¥å£åœ°å€**: `POST /api/logout`

**è®¤è¯**: JwtAuth

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": {},
  "msg": "é€€å‡ºç™»å½•æˆåŠŸ"
}
```

---

### 9. åˆ é™¤ç”¨æˆ·

**æ¥å£åœ°å€**: `DELETE /api/users`

**è®¤è¯**: JwtAdmin

**è¯·æ±‚å‚æ•°**:

```json
{
  "id_list": [1, 2, 3]
}
```

---

## æ–‡ç« æ¨¡å—

### 1. åˆ›å»ºæ–‡ç« 

**æ¥å£åœ°å€**: `POST /api/articles`

**è®¤è¯**: JwtAuth

**è¯·æ±‚å‚æ•°**:

```json
{
  "title": "string",
  "abstract": "string",
  "content": "string",
  "category": "string",
  "source": "string",
  "link": "string",
  "banner_id": 1,
  "tags": ["tag1", "tag2"]
}
```

**å‚æ•°è¯´æ˜**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| title | string | æ˜¯ | æ–‡ç« æ ‡é¢˜ |
| abstract | string | å¦ | æ–‡ç« ç®€ä»‹ |
| content | string | æ˜¯ | æ–‡ç« å†…å®¹(Markdown) |
| category | string | å¦ | æ–‡ç« åˆ†ç±» |
| source | string | å¦ | æ–‡ç« æ¥æº |
| link | string | å¦ | åŸæ–‡é“¾æ¥ |
| banner_id | uint | å¦ | å°é¢å›¾ç‰‡ID |
| tags | array | å¦ | æ ‡ç­¾æ•°ç»„ |

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": {},
  "msg": "æ–‡ç« å‘å¸ƒæˆåŠŸ"
}
```

---

### 2. æ–‡ç« åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/articles`

**è®¤è¯**: JwtAuth

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| page | int | å¦ | é¡µç  |
| limit | int | å¦ | æ¯é¡µæ•°é‡ |
| tag | string | å¦ | æ ‡ç­¾ç­›é€‰ |
| key | string | å¦ | æœç´¢å…³é”®å­— |

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": {
    "count": 50,
    "list": [
      {
        "id": 1,
        "title": "æ–‡ç« æ ‡é¢˜",
        "abstract": "æ–‡ç« ç®€ä»‹",
        "content": "æ–‡ç« å†…å®¹",
        "banner_url": "å°é¢å›¾ç‰‡",
        "user_nick_name": "ä½œè€…",
        "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
        "created_at": "2024-01-01 12:00:00",
        "view_count": 100,
        "digg_count": 10,
        "comment_count": 5
      }
    ]
  },
  "msg": "æŸ¥è¯¢æˆåŠŸ"
}
```

---

### 3. æ–‡ç« è¯¦æƒ…

**æ¥å£åœ°å€**: `GET /api/articles/:id`

**è®¤è¯**: JwtAuth

**è·¯å¾„å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| id | int | æ˜¯ | æ–‡ç« ID |

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": {
    "id": 1,
    "title": "æ–‡ç« æ ‡é¢˜",
    "abstract": "æ–‡ç« ç®€ä»‹",
    "content": "æ–‡ç« å®Œæ•´å†…å®¹",
    "banner_url": "å°é¢å›¾ç‰‡",
    "user_nick_name": "ä½œè€…",
    "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
    "created_at": "2024-01-01 12:00:00",
    "updated_at": "2024-01-01 12:00:00",
    "view_count": 100,
    "digg_count": 10,
    "comment_count": 5
  },
  "msg": "æŸ¥è¯¢æˆåŠŸ"
}
```

---

### 4. æ ¹æ®æ ‡é¢˜è·å–æ–‡ç« è¯¦æƒ…

**æ¥å£åœ°å€**: `GET /api/articles/detail`

**è®¤è¯**: JwtAuth

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| title | string | æ˜¯ | æ–‡ç« æ ‡é¢˜ |

---

### 5. æ›´æ–°æ–‡ç« 

**æ¥å£åœ°å€**: `PUT /api/articles`

**è®¤è¯**: JwtAuth

**è¯·æ±‚å‚æ•°**: åŒåˆ›å»ºæ–‡ç« 

---

### 6. åˆ é™¤æ–‡ç« 

**æ¥å£åœ°å€**: `DELETE /api/articles`

**è®¤è¯**: JwtAuth

**è¯·æ±‚å‚æ•°**:

```json
{
  "id_list": [1, 2, 3]
}
```

---

### 7. æ–‡ç« æ ‡ç­¾ç»Ÿè®¡

**æ¥å£åœ°å€**: `GET /api/articles/tags`

**è®¤è¯**: JwtAuth

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": [
    {
      "tag": "æ ‡ç­¾1",
      "count": 10
    },
    {
      "tag": "æ ‡ç­¾2",
      "count": 5
    }
  ],
  "msg": "æŸ¥è¯¢æˆåŠŸ"
}
```

---

### 8. æ–‡ç« æ—¥å†

**æ¥å£åœ°å€**: `GET /api/articles/calendar`

**è®¤è¯**: JwtAuth

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": {
    "2024-01-01": 5,
    "2024-01-02": 3
  },
  "msg": "æŸ¥è¯¢æˆåŠŸ"
}
```

---

### 9. æ”¶è—æ–‡ç« 

**æ¥å£åœ°å€**: `POST /api/articles/coll`

**è®¤è¯**: JwtAuth

**è¯·æ±‚å‚æ•°**:

```json
{
  "article_id": 1
}
```

---

### 10. æ”¶è—åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/articles/collects`

**è®¤è¯**: JwtAuth

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| page | int | å¦ | é¡µç  |
| limit | int | å¦ | æ¯é¡µæ•°é‡ |

---

### 11. æ‰¹é‡åˆ é™¤æ”¶è—

**æ¥å£åœ°å€**: `DELETE /api/articles/collects`

**è®¤è¯**: JwtAuth

**è¯·æ±‚å‚æ•°**:

```json
{
  "id_list": [1, 2, 3]
}
```

---

### 12. å…¨æ–‡æœç´¢

**æ¥å£åœ°å€**: `GET /api/articles/texts`

**è®¤è¯**: æ— éœ€è®¤è¯

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| key | string | æ˜¯ | æœç´¢å…³é”®å­— |
| page | int | å¦ | é¡µç  |
| limit | int | å¦ | æ¯é¡µæ•°é‡ |

---

## æ ‡ç­¾æ¨¡å—

### 1. æ ‡ç­¾åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/tags`

**è®¤è¯**: æ— éœ€è®¤è¯

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| page | int | å¦ | é¡µç  |
| limit | int | å¦ | æ¯é¡µæ•°é‡ |
| key | string | å¦ | æœç´¢å…³é”®å­— |

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": {
    "count": 10,
    "list": [
      {
        "id": 1,
        "title": "æ ‡ç­¾åç§°",
        "created_at": "2024-01-01 12:00:00"
      }
    ]
  },
  "msg": "æŸ¥è¯¢æˆåŠŸ"
}
```

---

### 2. åˆ›å»ºæ ‡ç­¾

**æ¥å£åœ°å€**: `POST /api/tags`

**è®¤è¯**: æ— éœ€è®¤è¯

**è¯·æ±‚å‚æ•°**:

```json
{
  "title": "æ ‡ç­¾åç§°"
}
```

**å‚æ•°è¯´æ˜**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| title | string | æ˜¯ | æ ‡ç­¾åç§° |

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": {},
  "msg": "æ·»åŠ æ ‡ç­¾æˆåŠŸ"
}
```

---

### 3. æ›´æ–°æ ‡ç­¾

**æ¥å£åœ°å€**: `PUT /api/tags`

**è®¤è¯**: æ— éœ€è®¤è¯

**è¯·æ±‚å‚æ•°**:

```json
{
  "id": 1,
  "title": "æ–°æ ‡ç­¾åç§°"
}
```

---

### 4. åˆ é™¤æ ‡ç­¾

**æ¥å£åœ°å€**: `DELETE /api/tags`

**è®¤è¯**: æ— éœ€è®¤è¯

**è¯·æ±‚å‚æ•°**:

```json
{
  "id_list": [1, 2, 3]
}
```

---

## å›¾ç‰‡æ¨¡å—

### 1. ä¸Šä¼ å›¾ç‰‡

**æ¥å£åœ°å€**: `POST /api/images`

**è®¤è¯**: æ— éœ€è®¤è¯

**è¯·æ±‚æ–¹å¼**: multipart/form-data

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| images | file | æ˜¯ | å›¾ç‰‡æ–‡ä»¶(æ”¯æŒå¤šæ–‡ä»¶) |

**æ”¯æŒæ ¼å¼**: jpg, jpeg, png, gif, bmp, webp, heic, heif, avif, svg, tiff, tif, ico, raw, psd

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": [
    {
      "file_name": "uploaded_image.jpg",
      "msg": "ä¸Šä¼ æˆåŠŸ",
      "is_success": true
    }
  ],
  "msg": "æŸ¥è¯¢æˆåŠŸ"
}
```

---

### 2. å›¾ç‰‡åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/images`

**è®¤è¯**: æ— éœ€è®¤è¯

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| page | int | å¦ | é¡µç  |
| limit | int | å¦ | æ¯é¡µæ•°é‡ |
| key | string | å¦ | æœç´¢å…³é”®å­— |

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": {
    "count": 20,
    "list": [
      {
        "id": 1,
        "path": "image_url",
        "name": "image_name",
        "created_at": "2024-01-01 12:00:00"
      }
    ]
  },
  "msg": "æŸ¥è¯¢æˆåŠŸ"
}
```

---

### 3. æ›´æ–°å›¾ç‰‡

**æ¥å£åœ°å€**: `PUT /api/images`

**è®¤è¯**: æ— éœ€è®¤è¯

**è¯·æ±‚å‚æ•°**:

```json
{
  "id": 1,
  "name": "æ–°å›¾ç‰‡åç§°"
}
```

---

### 4. åˆ é™¤å›¾ç‰‡

**æ¥å£åœ°å€**: `DELETE /api/images`

**è®¤è¯**: æ— éœ€è®¤è¯

**è¯·æ±‚å‚æ•°**:

```json
{
  "id_list": [1, 2, 3]
}
```

---

### 5. å›¾ç‰‡åç§°åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/image_names`

**è®¤è¯**: æ— éœ€è®¤è¯

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": [
    {
      "id": 1,
      "name": "å›¾ç‰‡åç§°"
    }
  ],
  "msg": "æŸ¥è¯¢æˆåŠŸ"
}
```

---

## å¹¿å‘Šæ¨¡å—

### 1. å¹¿å‘Šåˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/adverts`

**è®¤è¯**: æ— éœ€è®¤è¯

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| page | int | å¦ | é¡µç  |
| limit | int | å¦ | æ¯é¡µæ•°é‡ |
| key | string | å¦ | æœç´¢å…³é”®å­— |
| sort | string | å¦ | æ’åºæ–¹å¼ |

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": {
    "count": 10,
    "list": [
      {
        "id": 1,
        "title": "å¹¿å‘Šæ ‡é¢˜",
        "href": "é“¾æ¥åœ°å€",
        "images": "å›¾ç‰‡åœ°å€",
        "is_show": true,
        "created_at": "2024-01-01 12:00:00"
      }
    ]
  },
  "msg": "æŸ¥è¯¢æˆåŠŸ"
}
```

---

### 2. åˆ›å»ºå¹¿å‘Š

**æ¥å£åœ°å€**: `POST /api/adverts`

**è®¤è¯**: æ— éœ€è®¤è¯

**è¯·æ±‚å‚æ•°**:

```json
{
  "title": "å¹¿å‘Šæ ‡é¢˜",
  "href": "é“¾æ¥åœ°å€",
  "images": "å›¾ç‰‡åœ°å€",
  "is_show": true
}
```

---

### 3. æ›´æ–°å¹¿å‘Š

**æ¥å£åœ°å€**: `PUT /api/adverts/:id`

**è®¤è¯**: æ— éœ€è®¤è¯

**è·¯å¾„å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| id | int | æ˜¯ | å¹¿å‘ŠID |

**è¯·æ±‚å‚æ•°**: åŒåˆ›å»ºå¹¿å‘Š

---

### 4. åˆ é™¤å¹¿å‘Š

**æ¥å£åœ°å€**: `DELETE /api/adverts`

**è®¤è¯**: æ— éœ€è®¤è¯

**è¯·æ±‚å‚æ•°**:

```json
{
  "id_list": [1, 2, 3]
}
```

---

## èœå•æ¨¡å—

### 1. èœå•åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/menus`

**è®¤è¯**: æ— éœ€è®¤è¯

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": [
    {
      "id": 1,
      "title": "èœå•æ ‡é¢˜",
      "path": "/path",
      "icon": "icon_name",
      "sort": 1,
      "parent_id": 0,
      "created_at": "2024-01-01 12:00:00"
    }
  ],
  "msg": "æŸ¥è¯¢æˆåŠŸ"
}
```

---

### 2. åˆ›å»ºèœå•

**æ¥å£åœ°å€**: `POST /api/menus`

**è®¤è¯**: æ— éœ€è®¤è¯

**è¯·æ±‚å‚æ•°**:

```json
{
  "title": "èœå•æ ‡é¢˜",
  "path": "/path",
  "icon": "icon_name",
  "sort": 1,
  "parent_id": 0,
  "image_id": 1
}
```

---

### 3. èœå•è¯¦æƒ…

**æ¥å£åœ°å€**: `GET /api/menus/:id`

**è®¤è¯**: æ— éœ€è®¤è¯

**è·¯å¾„å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| id | int | æ˜¯ | èœå•ID |

---

### 4. æ›´æ–°èœå•

**æ¥å£åœ°å€**: `PUT /api/menus/:id`

**è®¤è¯**: æ— éœ€è®¤è¯

**è·¯å¾„å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| id | int | æ˜¯ | èœå•ID |

---

### 5. åˆ é™¤èœå•

**æ¥å£åœ°å€**: `DELETE /api/menus`

**è®¤è¯**: æ— éœ€è®¤è¯

**è¯·æ±‚å‚æ•°**:

```json
{
  "id_list": [1, 2, 3]
}
```

---

### 6. èœå•åç§°åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/menu_names`

**è®¤è¯**: æ— éœ€è®¤è¯

---

## æ¶ˆæ¯æ¨¡å—

### 1. å‘é€æ¶ˆæ¯

**æ¥å£åœ°å€**: `POST /api/message`

**è®¤è¯**: JwtAuth

**è¯·æ±‚å‚æ•°**:

```json
{
  "send_user_id": 1,
  "rev_user_id": 2,
  "content": "æ¶ˆæ¯å†…å®¹",
  "msg_type": 1
}
```

**å‚æ•°è¯´æ˜**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| send_user_id | int | æ˜¯ | å‘é€ç”¨æˆ·ID |
| rev_user_id | int | æ˜¯ | æ¥æ”¶ç”¨æˆ·ID |
| content | string | æ˜¯ | æ¶ˆæ¯å†…å®¹ |
| msg_type | int | æ˜¯ | æ¶ˆæ¯ç±»å‹ |

---

### 2. æ¶ˆæ¯åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/messages`

**è®¤è¯**: JwtAuth

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| page | int | å¦ | é¡µç  |
| limit | int | å¦ | æ¯é¡µæ•°é‡ |

---

### 3. æ‰€æœ‰æ¶ˆæ¯

**æ¥å£åœ°å€**: `GET /api/messages_all`

**è®¤è¯**: JwtAuth

---

### 4. èŠå¤©è®°å½•

**æ¥å£åœ°å€**: `GET /api/message_record`

**è®¤è¯**: JwtAuth

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| user_id | int | æ˜¯ | ç”¨æˆ·ID |

---

## è¯„è®ºæ¨¡å—

### 1. åˆ›å»ºè¯„è®º

**æ¥å£åœ°å€**: `POST /api/comment`

**è®¤è¯**: JwtAuth

**è¯·æ±‚å‚æ•°**:

```json
{
  "article_id": 1,
  "content": "è¯„è®ºå†…å®¹",
  "parent_comment_id": 0
}
```

**å‚æ•°è¯´æ˜**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| article_id | int | æ˜¯ | æ–‡ç« ID |
| content | string | æ˜¯ | è¯„è®ºå†…å®¹ |
| parent_comment_id | int | å¦ | çˆ¶è¯„è®ºID(ç”¨äºå›å¤) |

---

### 2. è¯„è®ºåˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/comments`

**è®¤è¯**: æ— éœ€è®¤è¯

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| article_id | int | æ˜¯ | æ–‡ç« ID |
| page | int | å¦ | é¡µç  |
| limit | int | å¦ | æ¯é¡µæ•°é‡ |

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": {
    "count": 10,
    "list": [
      {
        "id": 1,
        "article_id": 1,
        "content": "è¯„è®ºå†…å®¹",
        "user_nick_name": "ç”¨æˆ·æ˜µç§°",
        "user_avatar": "å¤´åƒåœ°å€",
        "digg_count": 5,
        "created_at": "2024-01-01 12:00:00",
        "children": []
      }
    ]
  },
  "msg": "æŸ¥è¯¢æˆåŠŸ"
}
```

---

### 3. è¯„è®ºç‚¹èµ

**æ¥å£åœ°å€**: `GET /api/comments/:id`

**è®¤è¯**: æ— éœ€è®¤è¯

**è·¯å¾„å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| id | int | æ˜¯ | è¯„è®ºID |

---

### 4. åˆ é™¤è¯„è®º

**æ¥å£åœ°å€**: `DELETE /api/comments/:id`

**è®¤è¯**: JwtAuth

**è·¯å¾„å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| id | int | æ˜¯ | è¯„è®ºID |

---

## ç‚¹èµæ¨¡å—

### 1. æ–‡ç« ç‚¹èµ

**æ¥å£åœ°å€**: `POST /api/digg`

**è®¤è¯**: æ— éœ€è®¤è¯

**è¯·æ±‚å‚æ•°**:

```json
{
  "article_id": 1
}
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "data": {
    "digg_count": 11
  },
  "msg": "ç‚¹èµæˆåŠŸ"
}
```

---

## ç³»ç»Ÿè®¾ç½®

### 1. è·å–è®¾ç½®

**æ¥å£åœ°å€**: `GET /api/settings/:name`

**è®¤è¯**: æ— éœ€è®¤è¯

**è·¯å¾„å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| name | string | æ˜¯ | è®¾ç½®åç§° |

---

### 2. æ›´æ–°è®¾ç½®

**æ¥å£åœ°å€**: `PUT /api/settings/:name`

**è®¤è¯**: æ— éœ€è®¤è¯

**è·¯å¾„å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| name | string | æ˜¯ | è®¾ç½®åç§° |

**è¯·æ±‚å‚æ•°**:

```json
{
  "content": "è®¾ç½®å†…å®¹"
}
```

---

## èŠå¤©æ¨¡å—

### 1. èŠå¤©ç¾¤ç»„

**æ¥å£åœ°å€**: `GET /api/chatgroups`

**è®¤è¯**: æ— éœ€è®¤è¯

---

### 2. èŠå¤©è®°å½•

**æ¥å£åœ°å€**: `GET /api/chat_groups_records`

**è®¤è¯**: æ— éœ€è®¤è¯

---

## æ—¥å¿—æ¨¡å—

### 1. æ—¥å¿—åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/logs`

**è®¤è¯**: æ— éœ€è®¤è¯

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| page | int | å¦ | é¡µç  |
| limit | int | å¦ | æ¯é¡µæ•°é‡ |
| key | string | å¦ | æœç´¢å…³é”®å­— |

---

## æ–°é—»æ¨¡å—

### 1. æ–°é—»åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/new`

**è®¤è¯**: æ— éœ€è®¤è¯

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| page | int | å¦ | é¡µç  |
| limit | int | å¦ | æ¯é¡µæ•°é‡ |

---

## é™„å½•

### é€šç”¨åˆ†é¡µå‚æ•°

å¤§éƒ¨åˆ†åˆ—è¡¨æ¥å£éƒ½æ”¯æŒä»¥ä¸‹åˆ†é¡µå‚æ•°:

| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|--------|------|
| page | int | 1 | é¡µç  |
| limit | int | 10 | æ¯é¡µæ•°é‡ |

### é€šç”¨åˆ é™¤å‚æ•°

åˆ é™¤æ¥å£ç»Ÿä¸€ä½¿ç”¨ä»¥ä¸‹æ ¼å¼:

```json
{
  "id_list": [1, 2, 3]
}
```

### æ—¶é—´æ ¼å¼

æ‰€æœ‰æ—¶é—´å­—æ®µæ ¼å¼: `YYYY-MM-DD HH:mm:ss`

ä¾‹å¦‚: `2024-01-01 12:00:00`

---

## æ›´æ–°æ—¥å¿—

- **v1.0.0** (2024-01-01): åˆå§‹ç‰ˆæœ¬APIæ–‡æ¡£

---

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»:

- é‚®ç®±: 398886755@qq.com
- åšå®¢: https://www.fengfengzhidao.com

